<!-- Save new firmware modal -->
<dialog id="upload_firmware_modal" class="modal">
    <div class="modal-box">
        <!-- Upper right close button -->
        <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
        </form>
        <form method="POST" action="{% url 'save_new_firmware' %}" enctype="multipart/form-data">
        {% csrf_token %}


        <h3 class="text-lg font-semibold mb-2">Upload firmware</h3>
        {% component "alert" level="warning" text="This functionality is only ment to be used to upload new files from developers or if you really know what you are doing. Uploading incorrect or corrupt files here can cause your NSPanels to not function properly and require a reflash." %}{% endcomponent %}

        <div id="firmware_dragdrop_target" class="py-4">
          <div class="flex items-center justify-center w-full">
            <label for="firmware" class="flex flex-col items-center justify-center w-full h-64 border-2 border-neutral hover:bg-base-300 border-dashed rounded-box cursor-pointer">
                <div class="flex flex-col items-center justify-center pt-5 pb-6">
                    <span class="mdi mdi-cloud-upload-outline text-4xl"></span>
                    <p class="mb-2 text-sm"><span class="font-semibold">Click to upload</span> or drag and drop</p>
                    <p id="save_new_firmware_modal_subtext" class="text-xs">.bin files</p>
                </div>
                <input id="firmware" name="firmware" type="file" accept=".bin" class="hidden" />
            </label>
          </div>
        </div>

        <div class="flex items-center justify-end space-x-2">
            <button type="button" class="btn btn-neutral" onclick="upload_firmware_modal.close();">Close</button>
            <button type="submit" id="firmware_upload_submit_button" class="btn btn-info btn-disabled">Upload</button>
        </div>
        </form>
    </div>
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>

<!-- Data file upload modal -->
<dialog id="upload_data_file_modal" class="modal">
    <div class="modal-box">
        <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
        </form>
        <form method="POST" action="{% url 'save_new_data_file' %}" enctype="multipart/form-data">
          {% csrf_token %}

          <h3 class="text-lg font-semibold mb-2">Upload data file</h3>
          {% component "alert" level="warning" text="This functionality is only ment to be used to upload new files from developers or if you really know what you are doing. Uploading incorrect or corrupt files here can cause your NSPanels to not function properly and require a reflash." %}{% endcomponent %}


          <div id="data_file_dragdrop_target" class="py-4">
            <div class="flex items-center justify-center w-full">
              <label for="data_file" class="flex flex-col items-center justify-center w-full h-64 border-2 border-neutral hover:bg-base-300 border-dashed rounded-box cursor-pointer">
                  <div class="flex flex-col items-center justify-center pt-5 pb-6">
                      <span class="mdi mdi-cloud-upload-outline text-4xl"></span>
                      <p class="mb-2 text-sm"><span class="font-semibold">Click to upload</span> or drag and drop</p>
                      <p id="save_new_data_file_modal_subtext" class="text-xs">.bin files</p>
                  </div>
                  <input id="data_file" name="data_file" type="file" accept=".bin" class="hidden" />
              </label>
            </div>
          </div>

          <div class="flex items-center justify-end space-x-2">
              <button type="button" class="btn btn-neutral" onclick="upload_firmware_modal.close();">Close</button>
              <button type="submit" id="data_file_upload_submit_button" class="btn btn-info btn-disabled">Upload</button>
          </div>
        </form>

    </div>
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>

<!-- TFT Upload modal -->
<dialog id="upload_tft_modal" class="modal">
    <div class="modal-box">
        <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
        </form>
        <form method="POST" action="{% url 'save_new_tft_file' %}" enctype="multipart/form-data">
          {% csrf_token %}

          <h3 class="text-lg font-semibold mb-2">Upload TFT file</h3>
          {% component "alert" level="warning" text="This functionality is only ment to be used to upload new files from developers or if you really know what you are doing. Uploading incorrect or corrupt files here can cause your NSPanels to not function properly and require a reflash." %}{% endcomponent %}

          <!-- TFT file type-->
          <div class="flex-auto mt-4">
            <h3 class="block mb-2 text-sm font-medium">File type</h3>
            <ul
              class="items-center w-full text-sm font-medium border border-neutral rounded-lg sm:flex bg-base-300">
              <li class="w-full sm:border-b-0 sm:border-r border-neutral">
                <div class="flex items-center ps-3">
                  <input id="tft_file_type_eu" type="radio" name="tft_file_type" value="eu"
                  class="w-4 h-4 radio radio-accent" required>
                  <label for="tft_file_type_eu" class="w-full py-3 ms-2 text-sm font-medium">EU</label>
                </div>
              </li>
              <li class="w-full border-b sm:border-b-0 sm:border-r border-neutral">
                <div class="flex items-center ps-3">
                  <input id="tft_file_type_us" type="radio" name="tft_file_type" value="us"
                    class="w-4 h-4 radio radio-accent" required>
                  <label for="tft_file_type_us" class="w-full py-3 ms-2 text-sm font-medium">US</label>
                </div>
              </li>
            </ul>
          </div>

          <div id="tft_dragdrop_target" class="py-4">
            <div class="flex items-center justify-center w-full">
              <label for="tft_file" class="flex flex-col items-center justify-center w-full h-64 border-2 border-neutral hover:bg-base-300 border-dashed rounded-box cursor-pointer">
                  <div class="flex flex-col items-center justify-center pt-5 pb-6">
                      <span class="mdi mdi-cloud-upload-outline text-4xl"></span>
                      <p class="mb-2 text-sm"><span class="font-semibold">Click to upload</span> or drag and drop</p>
                      <p id="save_new_data_file_modal_subtext" class="text-xs">.tft files</p>
                  </div>
                  <input id="tft_file" name="tft_file" type="file" accept=".tft" class="hidden" />
              </label>
            </div>
          </div>

          <div class="flex items-center justify-end space-x-2">
              <button type="button" class="btn btn-neutral" onclick="upload_firmware_modal.close();">Close</button>
              <button type="submit" id="tft_upload_submit_button" class="btn btn-info btn-disabled">Upload</button>
          </div>
        </form>

    </div>
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>

<form method="POST" action="{% url 'save_new_tft_file' %}" enctype="multipart/form-data">
  {% csrf_token %}
  <dialog id="update_tft_file_modal" class="modal">
    class="hidden modal overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center w-full max-h-full p-4 max-w- mx-auto my-auto sm:w-3/4 md:w-2/4 inset-0 flex items-center">
    <div class="w-full h-full fixed bg-black/80 backdrop-blur-sm" onclick="close_modals();"></div>
    <div class="relative p-4 w-full max-w-2xl max-h-full">
      <!-- Modal content -->
      <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
        <!-- Modal header -->
        <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
            Upload new TFT file
          </h3>
          <button type="button" onclick="close_modals();"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
            data-modal-hide="default-modal">
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Close upload dialog</span>
          </button>
        </div>
        <!-- Modal content -->
        <div class="p-4 md:p-5 space-y-4">
          <div class="mt-4">
            <label for="file_version" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-50">File type</label>
            <div class="flex">
              <span
                class="inline-flex items-center px-3 text-sm text-gray-900 bg-gray-200 border rounded-e-0 border-gray-300 rounded-s-md">
                <svg class="w-4 h-4 text-gray-500" aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <title>File type</title>
                  <path
                    d="M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z" />
                </svg>
              </span>
              <select name="file_version" id="file_version" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-e-md focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                <option>Europe</option>
                <option>US</option>
              </select>
            </div>
          </div>

          <div id="tft_dragdrop_target" class="flex items-center justify-center w-full">
            <label for="tft_file" class="flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600">
                <div class="flex flex-col items-center justify-center pt-5 pb-6">
                    <svg class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"/>
                    </svg>
                    <p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class="font-semibold">Click to upload</span> or drag and drop</p>
                    <p id="save_new_tft_file_modal_subtext" class="text-xs text-gray-500 dark:text-gray-400">.tft files</p>
                </div>
                <input id="tft_file" name="tft_file" type="file" accept=".tft" class="hidden" />
            </label>
          </div>
        </div>
        <!-- Modal footer -->
        <div class="flex justify-end items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
          <button data-modal-hide="static-modal" type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
          >Upload</button>
          <button data-modal-hide="static-modal" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"
          onclick="close_modals();">Close</button>
        </div>
      </div>
    </div>
  </dialog>
</form>

<!-- Modal to indicate that we are loading something --->
<!-- This dialog will have the class htmx-request added to it when it's "active" --->
<dialog id="modal_loading" tabindex="-1" aria-hidden="true" class="modal z-50">
  <!-- Modal content -->
    <div class="modal-box">
        <!-- Modal header -->
        <h3 class="text-lg font-semibold mb-2">Loading</h3>

        <!-- Loader-->
        <div class="flex items-center justify-center">
            <span class="loading loading-ring loading-lg by-2"></span>
        </div>

    </div>
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>

<!-- Modal to confirm an action via HTMX -->
<dialog id="modal_confirm" tabindex="-1" aria-hidden="true" class="modal">
  <!-- Modal content -->
    <div class="modal-box">
        <!-- Modal header -->
        <h3 class="text-lg font-semibold mb-2">Confirm</h3>

        <!-- Loader-->
        <div class="">
            <span id="modal_confirm_text" class="">This is a sample confirm text?</span>
        </div>

        <div class="flex items-end justify-end gap-4 mt-4">
            <button id="modal_confirm_button" class="btn btn-success">OK</button>
            <button id="modal_confirm_cancel_button" class="btn btn-error">Cancel</button>
        </div>

    </div>
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>

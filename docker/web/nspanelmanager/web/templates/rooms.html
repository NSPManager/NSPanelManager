{% extends 'base.html' %} {% block content %}
<div class="md:flex md:flex-wrap md:justify-between items-center mb-4">
    <h2 class="font-medium text-2xl" id="nspanel_name">Rooms</h2>
    <button type="button" class="btn btn-info" onclick="create_new_room_modal.showModal();">
        Add new room
    </button>
</div>

<div class="p-4 bg-base-100 rounded-md shadow-lg w-full">
    <table class="table">
        <thead class="">
            <tr>
                <th class="px-3 py-1">Name</th>
                <th class="px-3 py-1">NSPanels</th>
            </tr>
        </thead>
        <tbody>
            {% for room in rooms %}
            <tr class="hover">
                <th class="">
                    <a href="{% url 'edit_room' room_id=room.room.id %}"
                        >{{ room.room.friendly_name }}</a
                    >
                </th>
                <td>
                    {% for nspanel in room.nspanels %}
                    <a href="{% url 'edit_nspanel' panel_id=nspanel.nspanel.id %}">
                    {% if nspanel.status.state == "online" %}
                        <span class="badge badge-success">{{ nspanel.nspanel.friendly_name }}</span>
                    {% elif nspanel.status.state == "offline" %}
                        <span class="badge badge-error">{{ nspanel.nspanel.friendly_name }}</span>
                    {% else %}
                        <span class="badge badge-neutral">{{ nspanel.nspanel.friendly_name }}</span>
                    {% endif %}
                    </a>
                    {% endfor %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

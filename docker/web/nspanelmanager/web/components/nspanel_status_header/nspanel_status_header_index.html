<!-- TODO: When this file is rendered and sent over a websocket for replacement via HTMX it doesn't transition. See issue: https://github.com/bigskysoftware/htmx-extensions/issues/65 -->
{% if state == "online" %}
<div hx-swap="outerHTML" hx-trigger="nspanel-{{ id }}-state-change from:body" hx-get="{% url 'nspanel_status_header' view='index' nspanel_id=id %}" class="min-h-1 overflow-hidden rounded-t-md w-full transition-all ease-linear duration-300 bg-green-500 dark:bg-green-700" id="panel_header-{{ id }}">
</div>
{% elif state == "offline" %}
<div hx-swap="outerHTML" hx-trigger="nspanel-{{ id }}-state-change from:body" hx-get="{% url 'nspanel_status_header' view='index' nspanel_id=id %}" class="min-h-1 overflow-hidden rounded-t-md w-full transition-all ease-linear duration-300 bg-red-500 dark:bg-red-700" id="panel_header-{{ id }}">
</div>
{% elif state == "awaiting_accept" %}
<div hx-swap="outerHTML" hx-trigger="nspanel-{{ id }}-state-change from:body" hx-get="{% url 'nspanel_status_header' view='index' nspanel_id=id %}" class="min-h-1 overflow-hidden rounded-t-md w-full transition-all ease-linear duration-300 bg-blue-500 dark:bg-blue-700 animate-pulse" id="panel_header-{{ id }}">
</div>
{% elif state == "waiting" %}
<div hx-swap="outerHTML" hx-trigger="nspanel-{{ id }}-state-change from:body" hx-get="{% url 'nspanel_status_header' view='index' nspanel_id=id %}" class="min-h-1 overflow-hidden rounded-t-md w-full transition-all ease-linear duration-300 bg-blue-500 dark:bg-blue-700 animate-pulse" id="panel_header-{{ id }}">
</div>
{% elif state == "updating_fw" or state == "updating_fs" or state == "updating_tft" %}
<div hx-swap="outerHTML" hx-trigger="nspanel-{{ id }}-state-change from:body" hx-get="{% url 'nspanel_status_header' view='index' nspanel_id=id %}" class="min-h-1 overflow-hidden rounded-t-md w-full transition-all ease-linear duration-300 bg-blue-500 dark:bg-blue-700" style="width: {{ progress }}%;" id="panel_header-{{ id }}">
</div>
{% else %}
<div hx-swap="outerHTML" hx-trigger="nspanel-{{ id }}-state-change from:body" hx-get="{% url 'nspanel_status_header' view='index' nspanel_id=id %}" class="bg-gray-500 min-h-1 overflow-hidden rounded-t-md w-full animate-pulse transition-all duration-300" id="panel_header-{{ id }}">
</div>
{% endif %}
